<launch>
  <arg name="init_x_"/>
  <arg name="init_y_"/>
  <arg name="init_z_"/> 
  <arg name="max_height" />
  <arg name="min_height" />
  <arg name="odometry_topic"/>
  <arg name="cmd_topic" />
  
  <node pkg="kimatic_simulator" name="ugv_kimatic_simulator" type="diablo_kimatic_simulator_node" output="screen">
      <param name="simulator/max_height" value="$(arg max_height)" />
      <param name="simulator/min_height" value="$(arg min_height)" />
      <param name="simulator/init_x" value="$(arg init_x_)"/>
      <param name="simulator/init_y" value="$(arg init_y_)"/>
      <param name="simulator/init_z" value="$(arg init_z_)"/>
      <param name="simulator/max_omega" value="2.4"  type="double"/>
      <param name="simulator/max_speed" value="1.5"  type="double"/>
      <param name="simulator/time_delay" value="0.1"  type="double"/>
      <remap from="~command" to="$(arg cmd_topic)"/>
      <remap from="~odometry" to="$(arg odometry_topic)"/>
  </node>

  <node pkg="diablo_model" name="ugv_vis_node" type="ugv_vis_node" output="screen">
      <param name="max_height" value="$(arg max_height)" />
      <param name="ugv/ugv_l" value="0.01"  type="double"/>
      <param name="ugv/ugv_w" value="0.4"  type="double"/>
      <param name="ugv/ugv_h" value="0.3"  type="double"/>
      <!-- <param name="ugv/ugv_l" value="0.005"  type="double"/>
      <param name="ugv/ugv_w" value="0.48"  type="double"/>
      <param name="ugv/ugv_h" value="0.64"  type="double"/> -->
      <param name="ugv/mesh" value="package://diablo_model/model/body.STL"  type="string"/>
      <param name="ugv/mesh2" value="package://diablo_model/model/leg.STL"  type="string"/>
      <param name="ugv/mesh3" value="package://diablo_model/model/mid.STL"  type="string"/>
      <param name="ugv/mesh4" value="package://diablo_model/model/wheels.STL"  type="string"/>
      <param name="ugv/frame" value="world"  type="string"/>
      <remap from="~odom" to="$(arg odometry_topic)"/>
      <remap from="~odom_mesh" to="ugv_model"/>
  </node>

</launch>
